Скрипт предназначен для получения доступных данных с сайта:
[https://www.marinetraffic.com/](https://www.marinetraffic.com/)

![Alt process](https://drive.google.com/file/d/1aJwG_U28rOXkzyyvSRZ_W2Xgmo8OYdBj/view?usp=sharing)

# Запуск

```javascript
node ship-scraper.js [--ключ=значение [,--ключ=значение, ...]]
```

# Описание

Выбран способ получения данных, путём перехвата запросов на JSON данные, по которым шаблонируется страница.
Разбор страницы по тегам нереализован т.к. привязка по селекторам ужасна (неименованные селекторы, очень длинная цепочка - сраница шаблонизирована).

# Опции

- [--search[ = "" ]] - имя судна или MMSI номер;
- [--type[ = 0 ]] - тип поиска 0 - все элементы, 1- по имени судна (уменьшает количество, найденного);
- [--page[ = 50 ]] - количество записей на одном поисковом листе;
- [--limit[ = 0 ]] - ограничение на количество страниц, в результате количество судов ≤ page \* limit;
- [--hidden[ = true ]] - отображение браузера
- [--dateformat[ = "dd.mm.yyyy ]] - формат времени в csv, подробнее [dateformat](https://www.npmjs.com/package/dateformat)
- [--timeout[ = 30000 ]] - Задержка на странице, в случае если данные не найдены. Ниже 5000 мс - ошибка. Необходима в случае медленной сети.

# Результат

В результате выполнения скрипта, появятся два файла:

1. result.csv - содержащий по возможности таблицу в формате: имя суда порт; отправления; дата отправления;
2. result.json - содержит данные JSON список [voyageInfo, vesselInfo, latestPosition], соответственно если данные получены.

# Результат

Написано криво, т.к. не до конца принял промисы :)
